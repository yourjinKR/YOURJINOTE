# PUTê³¼ PATCHì˜ ì°¨ì´

[ë©±ë“±ì„±](ë©±ë“±ì„±.md)ì˜ ì°¨ì´

## ì •ë¦¬

### PUTê³¼ PATCHì˜ ì°¨ì´ì 

PUTì€ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­ ë°”ë””ë¡œ **ì™„ì „íˆ ëŒ€ì²´**í•˜ëŠ” ë©”ì„œë“œì´ê³ ,  
PATCHëŠ” ë¦¬ì†ŒìŠ¤ì˜ **ì¼ë¶€ ì†ì„±ë§Œ ìˆ˜ì •**í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.  
ì‹¤ë¬´ì—ì„œëŠ” ëŒ€ë¶€ë¶„ ë¶€ë¶„ ìˆ˜ì •ì´ ë§ê¸° ë•Œë¬¸ì— PATCHë¥¼ ë” ìì£¼ ì‚¬ìš©í•˜ë©°,  
ì „ì²´ ìƒíƒœë¥¼ í•­ìƒ ì „ë‹¬í•˜ëŠ” ê´€ë¦¬ìì„± ìˆ˜ì •ì´ë‚˜ ë¦¬ì†ŒìŠ¤ ë™ê¸°í™” ëª©ì ì¼ ë•Œ PUTì„ ì‚¬ìš©í•©ë‹ˆë‹¤.


> PUT ë©”ì„œë“œì™€ PATCH ë©”ì„œë“œì˜ ì£¼ìš” ì°¨ì´ì ì€ PUT ë©”ì„œë“œëŠ” ìš”ì²­ URIë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ëœ ë¦¬ì†ŒìŠ¤ì˜ ìˆ˜ì •ëœ ë²„ì „ì„ ì œê³µí•˜ì—¬ ë¦¬ì†ŒìŠ¤ì˜ ì›ë˜ ë²„ì „ì„ ëŒ€ì²´í•˜ëŠ” ë°˜ë©´, PATCH ë©”ì„œë“œëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•œ ì¼ë ¨ì˜ ì§€ì¹¨ì„ ì œê³µí•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. PATCH ë¬¸ì„œê°€ PUT ë©”ì„œë“œ ë¡œ ì „ì†¡ëœ ë¦¬ì†ŒìŠ¤ì˜ ìƒˆ ë²„ì „ í¬ê¸°ë³´ë‹¤ í° ê²½ìš° PUT ë©”ì„œë“œê°€ ì„ í˜¸ë©ë‹ˆë‹¤.  
> - ìœ„í‚¤í”¼ë””ì•„-

### PATCHì™€ ë©±ë“±ì„±

PATCHëŠ” ë¶€ë¶„ ìˆ˜ì •ì´ê¸° ë•Œë¬¸ì— ë©±ë“±í•˜ì§€ ì•Šë‹¤ê³  ì˜¤í•´ë˜ì§€ë§Œ,  ì‹¤ì œë¡œëŠ” **ì—°ì‚° ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„í•  ê²½ìš°ì—ë§Œ ë¹„ë©±ë“±**í•©ë‹ˆë‹¤.  ê°’ì„ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ê³„í•˜ë©´  PATCHë„ ì¶©ë¶„íˆ ë©±ë“±ì„±ì„ ë³´ì¥í•  ìˆ˜ ìˆê³ ,  
ì‹¤ë¬´ì—ì„œëŠ” ì´ ë°©ì‹ì´ ì¼ë°˜ì ì…ë‹ˆë‹¤.


## PUT 

> í•´ë‹¹ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­ ë°”ë””ë¡œ ì™„ì „íˆ ëŒ€ì²´

PUTì€ ìˆ˜ì • ìš”ì²­ì„ ë®ì–´ì“°ê¸° ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•œë‹¤.

- ë©±ë“±ì„± ë³´ì¥
- í´ë¼ì´ì–¸íŠ¸ê°€ ë¦¬ì†ŒìŠ¤ì˜ ì „ì²´ ìƒíƒœë¥¼ ì•Œê³  ìˆì„ ë•Œ ì í•©
- ê´€ë¦¬ì í˜ì´ì§€ ì—ì„œ ì „ì²´ ìˆ˜ì • í¼, ì—”í‹°í‹° ì „ì²´ë¥¼ ë‚´ë ¤ë³´ë‚¼ë•Œ, DTO <-> Entity ì™„ë²½ ë§¤ì¹­ì‹œ

> RFC 5789 ëª…ì„¸ì— ë”°ë¥´ë©´ PUTì€ ë°˜ë“œì‹œ ë©±ë“±í•´ì•¼ í•œë‹¤.

## PATCH

> ë¦¬ì†ŒìŠ¤ì˜ ì¼ë¶€ë¶„ë§Œ ë³€ê²½

PATCHëŠ” ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­ì— í¬í•¨ëœ í•„ë“œë§Œ ë¶€ë¶„ ìˆ˜ì •í•©ë‹ˆë‹¤.

- ì¼ë°˜ì ìœ¼ë¡œ ë©±ë“±ì„±ì„ ë³´ì¥í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
- ë¶€ë¶„ ì—…ë°ì´íŠ¸ì— ìµœì í™”
- ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ê°ì†Œ
- í”„ë¡œí•„  ìˆ˜ì •, ìƒíƒœ ë³€ê²½, ëª¨ë‹¬/ì¸ë¼ì¸ ìˆ˜ì • UI, ëª¨ë°”ì¼ í™˜ê²½

> PATCH == ë©±ë“±í•˜ì§€ ì•ŠìŒ ğŸ‘ˆ í•´ë‹¹ ê°œë…ì€ ì˜³ì§€ ì•ŠìŒ!!!
### PATCHë¡œ ë©±ë“±ì„±ì„ ë³´ì¥í•˜ëŠ” ë²•

ì–˜ë¥¼ ë“¤ì–´ `í¬ì¸íŠ¸ë¥¼ 100 ì¶”ê°€í•´ë¼` ì™€ ê°™ì€ ìš”ì²­ì€ ì „í˜€ ë©±ë“±í•˜ì§€ ì•Šë‹¤.  
ë‹¤ë¥¸ ì˜ˆì‹œë¡œëŠ” `ìƒíƒœë¥¼ í† ê¸€í•´ë¼` ì™€ ê°™ì€ ìš”ì²­ ë˜í•œ ë©±ë“±í•˜ì§€ ì•Šë‹¤.

ê·¸ëŸ¬ë‚˜ `ìƒíƒœë¥¼ Aë¡œ ë§Œë“¤ì–´ë¼`ì™€ ê°™ì€ ìš”ì²­ì€ ë©±ë“±í•˜ë‹¤. ê·¸ë¦¬ê³  ì´ì™€ ê°™ì€ ìš”ì²­ì€ PATCHì— í•´ë‹¹í•  ê²ƒì´ë‹¤.

> PATCHë¥¼ â€œë³€ê²½í•˜ë¼â€ê°€ ì•„ë‹ˆë¼ â€œì´ ìƒíƒœê°€ ë˜ê²Œ í•˜ë¼â€ë¡œ ì„¤ê³„í•˜ë©´ ë©±ë“±í•˜ë‹¤

#### JPA ì˜ˆì‹œ

```java
@Getter
public class UserPatchRequest {
    private String name;
    private Integer age;
    private Boolean enabled;
}
```

```java
@Transactional
public void patchUser(Long id, UserPatchRequest dto) {
    User user = userRepository.findById(id)
        .orElseThrow();

    if (dto.getName() != null) {
        user.setName(dto.getName());
    }
    if (dto.getAge() != null) {
        user.setAge(dto.getAge());
    }
    if (dto.getEnabled() != null) {
        user.setEnabled(dto.getEnabled());
    }
}

```