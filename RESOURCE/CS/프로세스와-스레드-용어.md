
## program (프로그램)

컴퓨터가 실행할 수 있는 명령어들의 집합

> 프로그램이란, **파일이 저장 장치에 저장되어 있지만 메모리에는 올라가 있지 않은 정적인 상태** 를 말한다.

## process (프로세스)

- 프로세스란 **컴퓨터에서 실행 중인 프로그램**을 의미한다.  
- 각각의 프로세스는 **독립된 메모리 공간을 할당** 받는다.

> IPC를 통해 프로세스 간 통신 또한 가능하다. 

### 주소 공간

운영체제가 프로세스에게 할당하는 전용 메모리 영역
아래와 같이 4개의 구역으로 구분된다.

- Code : 실행할 명령어 (기계어로 작성됐으며 읽기 전용이다)
- Data : 전역/정적 변수
- Heap : 동적 할당 공간
- Stack : 함수 호출, 지역 변수

### 생애주기

- New : 프로세스가 막 생성된 상태
- Redy : CPU 할당을 기다리는 상태
- Running : CPU를 점유하고 실행 중인 상태
- Blocked : I/O 등 이벤트를 기다리는 상태
- Terminated : 실행이 완료되어 정리되는 상태

## IO

파일을 읽고 쓰는 것, 네트워크에서 데이터를 주고 받는 것, 입출력 장치와 데이터를 주고 받는 것

## CPU

명령어를 실행하는 연산장치

## 메인 메모리

프로세스가 CPU에서 실행되기 위해 대기하는 곳

## 프로그램과 프로세스

![Pasted image 20260115135452](GALLERY/Pasted%20image%2020260115135452.png)

프로그램이 메모리에 올라가면 프로세스가 되는 인스턴스화가 발생하고,  
이후 운영체제의 CPU 스케줄러에 따라 CPU가 프로세스를 실행한다.

# 프로세스와 스레드

**프로세스** : 운영체제로부터 자원을 할당받은 작업의 단위  
**스레드** : 프로세스가 자원을 이용하는 실행 흐름의 단위

## 단일 프로세스

- 한 번에 하나의 프로그램만 실행됨

### 단점

CPU 사용률이 좋지 않음

> 특정 프로세스가 I/O와 같은 작업이 이뤄진다면  해당 프로세스의 로직이 완료될 때까지 대기하기 때문에


## 멀티 프로그래밍 

- **하나의 운영체제 안에서 여러 프로세스가 실행**되는 것  
- CPU 작업과 입출력 작업을 병행하는 것
- **CPU의 사용률을 극대화** 시키는 것이 주 목적

> IO 작업이 발생하면 다른 프로세스가 CPU에서 실행

### 단점

- CPU 사용시간이 길어지면 다른 프로세스는 계속 대기한다.

>  특정 프로세스의 연산이 길 경우에 모든 프로세스가 진행되지 않음

## 멀티 태스킹

- 프로세스는 한번 CPU를 사용할 때 **아주 짧은 시간**만 CPU에서 실행되도록 한다.  
- 프로세스의 **응답 시간을 최소화** 시키는 것이 주요 목적이다.  

> 여기서 말하는 아주 짧은 시간을 퀀텀이라고 한다.  
> 이러한 방식은 마치 여러 프로세스가 동시에 실행되는 것처럼 보인다.  

### 단점

- 하나의 프로세스가 **동시에 여러 작업을 수행하지는 X**
- 프로세스의 컨텍스트 스위칭은 **무거운 작업**
- 프로세스끼리 **데이터 공유가 까다롭다.**

> 또한 듀얼 코어의 등장으로 해당 방식에서는 한계점이 존재했다.  


### 컨텍스트 스위칭

CPU/코어에서 실행 중이던 프로세스/스레드가 다른 프로세스/스레드로 교체되는 행위

#### 컨텍스트 스위칭 시 CPU가 저장/복구 하는 요소

- 프로그램 카운터
- 레지스터
- 스택 포인터
- 캐시 상태


## multi-processing (멀티 프로세싱)

- 두 개 이상의 프로세서나 CPU(코어)를 활용하는 시스템
- 각 프로세스는 메모리 공간이 분리

## 스레드

스레드란 프로세스 내에서 실행되는 흐름의 단위를 말한다.

- 프로세스 내부에서 실제로 실행되는 **'실행의 단위'**
- '경량 프로세스'라고도 부름
- 프로세스는 한 개 이상의 스레드를 가진다  
- 같은 프로세스의 스레드들끼리는 **컨텍스트 스위칭이 가볍다** 
- 자신들이 속한 프로세스의 **메모리 영역을 공유**  
	- 같은 프로세스일 경우에는 데이터 공유가 쉬움

### 프로세스와 스레드

멀티프로세스와 멀티스레드는 양쪽 모두 여러 흐름이 동시에 진행된다는 공통점을 가지고 있다.

멀티프로세스에서 각 프로세스는 독립적으로 실행되며 각각 별개의 메모리를 차지하고 있는 것과 달리 멀티스레드는 프로세스 내의 메모리를 공유해 사용할 수 있다. 또한 프로세스 간의 전환 속도보다 스레드 간의 전환 속도가 빠르다.

![Pasted image 20260115140747](../../GALLERY/Pasted%20image%2020260115140747.png)

![Pasted image 20260115140754](../../GALLERY/Pasted%20image%2020260115140754.png)

그림과 같이 같은 프로세스 내에서의 **스레드들은 메모리 영역을 공유**하되 각각의 **Stack 형식으로 할당된 메모리 영역은 따로 할당** 받는다.

### 스레드의 위험성

스레드가 동시에 실행되기 때문에 위험하다. (X)  
언제 실행될지 모르는 코드들이 같은 데이터에 접근하기 때문에 위험하다. (O)

## 멀티 스레딩

하나의 프로세스가 동시에 여러 작업을 실행하는데 목적  
여러 프로세스와 여러 스레드가 아주 짧게 쪼개진 cpu time을 나눠 갖는 방식

### 장점

- Context-Switching할 때 공유하고 있는 메모리만큼의 메모리 자원을 아낄 수 있다.
- 스레드는 프로세스 내의 Stack 영역을 제외한 모든 메모리를 공유하기 때문에 통신의 부담이 적어서 응답 시간이 빠르다.

### 단점

- 스레드 하나가 프로세스 내 자원을 망쳐버린다면 모든 프로세스가 종료될 수 있다.
- 자원을 공유하기 때문에 필연적으로 **동기화 문제**가 발생할 수밖에 없다.


# 출처

[유튜브 - 쉬운 코딩](https://www.youtube.com/watch?v=QmtYKZC0lMU)  
[벨로그](https://velog.io/@raejoonee/%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EC%99%80-%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%98-%EC%B0%A8%EC%9D%B4)  
[네이버 블로그 - 큰돌의 터전](https://blog.naver.com/jhc9639/222704196744?trackingCode=blog_bloghome_searchlist)  


프로세스는 관리의 단위이다.



