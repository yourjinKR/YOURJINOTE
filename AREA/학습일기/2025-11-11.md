- [x] íŒ€ì›ë“¤ì—ê²Œ ì˜ê²¬ ë¬¼ì–´ë³´ê¸°
- [x] íŒ€í”„ë¡œì íŠ¸ ìˆ˜í–‰
- [x] ì½”ë“œ ë¦¬ë·°

# ì½”í‹€ë¦°ì—ì„œ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤
ì½”í‹€ë¦°ì—ì„œëŠ” í•¨ìˆ˜ê°€ 1ê¸‰ ê°ì²´ì´ê¸°ì— ì‚¬ì‹¤ìƒ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ê°€ í•„ìš”í•˜ì§€ ì•Šë‹¤.
```kotlin
fun repeatUntilSuccess(action: () -> Unit) {  
    while (true) {  
        try {  
            action()  
            return  
        } catch (e: IllegalArgumentException) {  
            println(e.message)  
        }  
    }  
}
```
ìœ„ì™€ ê°™ì´ ì„ ì–¸ í›„

```kotlin
repeatUntilSuccess {  
    val purchaseRequest = inputView.purchaseAmount()  
    val purchaseResponse= lottoService.purchaseLotto(purchaseRequest, lottoGame)  
    outputView.purchaseResult(purchaseResponse)  
}
```
ì´ì™€ ê°™ì´ ê°„ë‹¨íˆ ì‚¬ìš© ê°€ëŠ¥


# ì½”í‹€ë¦°ì—ì„œ Enum ë§¤í•‘í•´ë³´ê¸°
## gptì—ê²Œ ì§ˆë¬¸
enumì„ ë§¤í•‘í•˜ê³  ì‹¶ìŒ. matchedRankì— ìˆëŠ” ë§Œí¼
```kotlin

fun getMatchingResult(winningLotto: WinningLotto, lottoList: List<Lotto>) {

val matchingResults: List<MatchingResult> = lottoList.map { lotto -> winningLotto.compareToLotto(lotto) }

val matchedRanks: List<LottoRank> = matchingResults.map { matchingResult -> LottoRank.of(matchingResult) }

val matchedGroupBy: Map<LottoRank, Int> = LottoRank.entries....

}

```

```kotlin
enum class LottoRank(  
    val matchedCount: Int,  
    val isBonusMatched: Boolean,  
    val prize: Int  
) {  
    FIRST(6, false, 2_000_000_000),  
    SECOND(5, true, 30_000_000),  
    THIRD(5, false, 1_500_000),  
    FOURTH(4, false, 50_000),  
    FIFTH(3, false, 5_000),  
    NONE(0, false, 0);  
  
    companion object {  
        fun of(matchingResult: MatchingResult): LottoRank {  
            val matchedCount = matchingResult.matchedCount  
            val isBonusMatched = matchingResult.isBonusMatched  
  
            val matchedRanks: List<LottoRank> = entries.filter { lottoRank -> lottoRank.matchedCount == matchedCount }  
  
            return when (matchedRanks.size) {  
                1 -> { matchedRanks[0] }  
                2 -> { matchedRanks.filter { lottoRank -> lottoRank.isBonusMatched == isBonusMatched }[0] }  
                else -> { LottoRank.NONE }  
            }  
        }  
    }  
}
```


# SpringBoot-Validation
## ğŸ” 1. ê°œë… ìš”ì•½

### âœ… **Bean Validation (JSR 380)**

- ìë°” ì§„ì˜ì—ì„œ **ê°ì²´ì˜ í•„ë“œ ê°’ì´ ìœ íš¨í•œì§€ ê²€ì¦í•˜ê¸° ìœ„í•œ í‘œì¤€ ìŠ¤í™**.
    
- `jakarta.validation` íŒ¨í‚¤ì§€ì˜ ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©.
    
- Spring Bootì—ì„œëŠ” **`spring-boot-starter-validation`** ì˜ì¡´ì„±ì„ í†µí•´ ìë™ í†µí•©ë¨.

### âœ… **ì£¼ ëª©ì **

- í´ë¼ì´ì–¸íŠ¸ ìš”ì²­(Request DTO)ì˜ ê°’ì´ **ë¹„ì–´ìˆê±°ë‚˜, ì˜ëª»ëœ í˜•ì‹**ì¼ ë•Œ  
    Controller ë¡œì§ì— ë“¤ì–´ì˜¤ê¸° ì „ì— **ìë™ìœ¼ë¡œ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œì¼œ** ë°©ì–´ì  í”„ë¡œê·¸ë˜ë°ì„ ê°€ëŠ¥í•˜ê²Œ í•¨.

## ğŸ§© 2. ë™ì‘ ì›ë¦¬

1. **ì‚¬ìš©ìê°€ API ìš”ì²­**ì„ ë³´ëƒ„ â†’ ì˜ˆ: `POST /quiz-option`
    
2. **Spring Controller**ì—ì„œ DTOë¥¼ `@RequestBody`ë¡œ ë§¤í•‘.
    
3. DTOì— ë¶™ì€ `@NotBlank`, `@Size` ë“±ì˜ **ê²€ì¦ ì–´ë…¸í…Œì´ì…˜**ì„ ê¸°ë°˜ìœ¼ë¡œ  
    **`Validator`ê°€ ê°’ì˜ ìœ íš¨ì„±ì„ ìë™ ì²´í¬.**
    
4. ê²€ì¦ì— ì‹¤íŒ¨í•˜ë©´ `MethodArgumentNotValidException`ì´ ë°œìƒ â†’  
    `@ControllerAdvice`ë‚˜ `@RestControllerAdvice`ë¥¼ í†µí•´ ì˜ˆì™¸ ì²˜ë¦¬ ê°€ëŠ¥.
    

---

## ğŸ§± 3. ì£¼ìš” ì–´ë…¸í…Œì´ì…˜ ì •ë¦¬

| ì–´ë…¸í…Œì´ì…˜             | ì ìš© ëŒ€ìƒ    | ì˜ë¯¸                  | ì˜ˆì‹œ                               |
| ----------------- | -------- | ------------------- | -------------------------------- |
| `@Null`           | ëª¨ë“  íƒ€ì…    | `null`ë§Œ í—ˆìš©í•¨         | `@Null val nullable: null`       |
| `@NotNull`        | ëª¨ë“  íƒ€ì…    | ê°’ì´ `null`ì´ë©´ ì•ˆ ë¨     | `@NotNull val age: Int`          |
| `@NotEmpty`       | ë¬¸ìì—´, ì»¬ë ‰ì…˜ | null âŒ, empty("") âŒ | `@NotEmpty val name: String`     |
| `@NotBlank`       | ë¬¸ìì—´      | null âŒ, ê³µë°±ë§Œ âŒ       | `@NotBlank val title: String`    |
| `@Size(min, max)` | ë¬¸ìì—´, ì»¬ë ‰ì…˜ | ê¸¸ì´ ì œí•œ               | `@Size(max=50)`                  |
| `@Min`, `@Max`    | ìˆ«ìí˜•      | ìµœì†ŒÂ·ìµœëŒ€ê°’              | `@Min(0) @Max(100)`              |
| `@Email`          | ë¬¸ìì—´      | ì´ë©”ì¼ í˜•ì‹ ê²€ì‚¬           | `@Email val email: String`       |
| `@Pattern`        | ë¬¸ìì—´      | ì •ê·œì‹ ê²€ì‚¬              | `@Pattern(regexp="^[a-zA-Z]+$")` |

---

## âš™ï¸ 4. Kotlinì—ì„œì˜ ì£¼ì˜ì  (`@field:` prefix)

Kotlinì—ì„œëŠ” **í”„ë¡œí¼í‹° ì ‘ê·¼ì(getter/setter)** ê°œë… ë•Œë¬¸ì—,  
ì–´ë…¸í…Œì´ì…˜ì„ ì–´ë””ì— ë¶™ì¼ì§€ë¥¼ ëª…ì‹œí•´ì•¼ í•©ë‹ˆë‹¤.

- `@field:NotBlank` â†’ **í•„ë“œ**ì— ì ìš© (Spring Validationì€ ì—¬ê¸°ì— ë¶™ì—¬ì•¼ ì‘ë™)
    
- `@get:NotBlank` â†’ **getter**ì— ì ìš©
    
- `@set:NotBlank` â†’ **setter**ì— ì ìš©
    

âœ… ì¦‰, **Kotlinì—ì„œ Validationì„ ì“°ë ¤ë©´ í•­ìƒ `@field:`ë¥¼ ë¶™ì—¬ì•¼ ì •ìƒ ë™ì‘**í•©ë‹ˆë‹¤.

---

## ğŸ’¡ 5. ì½”í‹€ë¦° : ì‹¤ì œ ì ìš© ì˜ˆì‹œ

```kotlin
@RestController
@RequestMapping("/quiz-options")
class QuizOptionController {

    @PostMapping
    fun createOption(@Valid @RequestBody request: QuizOptionRequest): ResponseEntity<String> {
        // request.content, request.isCorrectëŠ” ì´ë¯¸ ê²€ì¦ ì™„ë£Œë¨
        return ResponseEntity.ok("ì„ íƒì§€ ë“±ë¡ ì„±ê³µ")
    }
}
```

- `@Valid` : Springì´ `QuizOptionRequest` ë‚´ë¶€ ì–´ë…¸í…Œì´ì…˜ì„ ê²€ì‚¬í•˜ë„ë¡ íŠ¸ë¦¬ê±°í•¨
    
- ê²€ì¦ ì‹¤íŒ¨ ì‹œ â†’ ìë™ìœ¼ë¡œ 400 Bad Request + ì—ëŸ¬ ë©”ì‹œì§€ ë°˜í™˜

---

## ğŸ§  6. í•µì‹¬ ìš”ì•½

| í•­ëª©         | ì„¤ëª…                                                       |
| ---------- | -------------------------------------------------------- |
| ëª©ì          | DTOì˜ ì…ë ¥ê°’ ìœ íš¨ì„± ê²€ì‚¬                                          |
| í‘œì¤€         | Jakarta Bean Validation (JSR 380)                        |
| ì£¼ìš” ì–´ë…¸í…Œì´ì…˜   | `@NotNull`, `@NotBlank`, `@Size`, `@Email`, `@Pattern` ë“± |
| Kotlin ì£¼ì˜ì  | `@field:` prefix í•„ìš”                                      |
| ë™ì‘ ìœ„ì¹˜      | Controller ì§„ì… ì „ ìë™ ê²€ì¦                                    |
| ê²°ê³¼         | ìœ íš¨ì„± ì‹¤íŒ¨ ì‹œ ì˜ˆì™¸ ë°œìƒ (`MethodArgumentNotValidException`)       |
