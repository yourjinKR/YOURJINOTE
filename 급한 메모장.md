
# kotlin-calculator-precourse
## 도메인 설계
### 구분자

### 커스텀 구분자

### 


## 함수
입력값 커스텀 구분자 유무 확인



### 정규식
https://velog.io/@twaun95/%EC%A0%95%EA%B7%9C%EC%8B%9D

# 숫자배열 합계 구하기가 안됨
```kotlin
val parsedNumList = emptyArray<Int>()  
// 문자열 나눈 후 INT 형변환  
numList.forEach { string ->  
    val parsedString = string.toInt()  
    parsedNumList.plus(parsedString)  
}
```
위와 같이 배열 선언

![[Pasted image 20251106105220.png|500]]
하지만 합계가 불가능

그 이유는 **`Array`의 불변성(immutable)** 과 관련있다

```kotlin
parsedNumList.plus(parsedString)
```
해당 코드는 새로운 배열을 리턴하는 것이며
새로 할당하지 않았기 때문에 안됨

```kotlin
var parsedNumList = mutableListOf<Int>()  
// 문자열 나눈 후 INT 형변환  
numList.forEach { string ->  
    val parsedString = string.toInt()  
    println(parsedString)  
    parsedNumList.add(parsedString)  
}  
  
val total = parsedNumList.sum()  
println(total)
```
또한 코틀린에서 지원하는 가변 리스트를 활용하는 것이 합리적
심지어 얘는 내가 아는 `add`를 지원

```kotlin
// map + 함수 콤보
val total2 = numList.map { it.toInt() }.sum()  
println(total2)  
  
// 심지어 sumOf도 있음 : 대충 sum을 할건데 요로케 하겠다  
val total3 = numList.sumOf { it.toInt() }  
println(total3)
```
이런식으로 사용


```
    val input = Console.readLine()  
//    val input = "//;\\n1;2,3"  
    var delimiter = ",:"  
    println(input)  
  
    // 커스텀 구분자 있는지 확인  
    val regex = "^//.\\\\n.*".toRegex()  
    val isCustom = regex.matches(input)  
    println(isCustom)  
  
    // 커스텀 구분자에 구분자 목록 등록  
    if (isCustom) {  
        val header = input.substring(0, 5)  
        val customDelimiter = header[2]  
        delimiter += customDelimiter  
    }  
  
    // 구분자로 문자열 나눔  
    val delimiterRegex = "[${Regex.escape(delimiter)}]".toRegex()  
    val numList = input.substring(5).split(delimiterRegex)  
    println(numList)  
  
    val aa = "1,2,3"  
    val bb = aa.split(",")  
    println(bb)  
    val aa2 = "1,2:3"  
    val bb2 = aa2.split(",", ":")  
    println(bb2)  
  
    var parsedNumList = mutableListOf<Int>()  
    // 문자열 나눈 후 INT 형변환  
    numList.forEach { string ->  
        val parsedString = string.toInt()  
        println(parsedString)  
        parsedNumList.add(parsedString)  
    }  
  
    val total = parsedNumList.sum()  
    println(total)  
  
    // map + 함수 콤보  
    val total2 = numList.map { it.toInt() }.sum()  
    println(total2)  
  
    // 심지어 sumOf도 있음 : 대충 sum을 할건데 요로케 하겠다  
    val total3 = numList.sumOf { it.toInt() }  
    println(total3)
```